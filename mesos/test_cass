{
  "id": "cassandra",
  "cmd": "sudo docker run -p 9042:9042 --name cassandraContainer -d cassandra:latest",
  "cpus": 0.5,
  "mem": 64.0,
  "instances": 1,
  "networks": [ { "mode": "container/bridge" } ],
  "container": {
    "type": "DOCKER",
    "docker": {
      "image": "cassandra:latest"
    },
    "portMappings": [
      { "containerPort": 9042, "hostPort": 9042, "servicePort": 9042, "protocol": "tcp" }
    ]
  },
  "healthChecks": [
    {
      "protocol": "HTTP",
      "portIndex": 0,
      "path": "/",
      "gracePeriodSeconds": 5,
      "intervalSeconds": 20,
      "maxConsecutiveFailures": 3
    }
  ]
}

{
    "id": "cassandra", 
    "cmd": "docker pull cassandra && docker run -p 9042:9042 --name cassandraContainer -d cassandra:latest",
    "cpus": 0.5,
    "networks": [ { "mode": "container/bridge" } ],
    "mem": 200.0,
    "instances": 1
}

{
    "id": "cassandra",
    "apps": [
        {
            "id": "/cassandra/db",
            "apps": [
                {
                    "id": "/cassandra/db/cassandra-seed",
                    "constraints": [
                        [
                            "hostname",
                            "UNIQUE"
                        ]
                    ],
                    "ports": [
                        7199,
                        7000,
                        7001,
                        9160,
                        9042
                    ],
                    "requirePorts": true,
                    "container": {
                        "type": "DOCKER",
                        "docker": {
                            "image": "docker.touk.pl/cassandra",
                            "network": "HOST",
                            "privileged": true
                        }
                    },
                    "env": {
                        "SEED": "cassandra-seed.db.ctrlpkw.marathon.mesos"
                    },
                    "cpus": 0.5,
                    "mem": 200,
                    "instances": 1,
                    "backoffSeconds": 1,
                    "backoffFactor": 1.15,
                    "maxLaunchDelaySeconds": 3600,
                    "healthChecks": [
                        {
                            "protocol": "TCP",
                            "gracePeriodSeconds": 30,
                            "intervalSeconds": 30,
                            "portIndex": 4,
                            "timeoutSeconds": 60,
                            "maxConsecutiveFailures": 30
                        }
                    ],
                    "upgradeStrategy": {
                        "minimumHealthCapacity": 0.5,
                        "maximumOverCapacity": 0.2
                    }
                },
                {
                    "id": "/cassandra/db/cassandra",
                    "constraints": [
                        [
                            "hostname",
                            "UNIQUE"
                        ]
                    ],
                    "ports": [
                        7199,
                        7000,
                        7001,
                        9160,
                        9042
                    ],
                    "requirePorts": true,
                    "container": {
                        "type": "DOCKER",
                        "docker": {
                            "image": "docker.touk.pl/cassandra",
                            "network": "HOST",
                            "privileged": true
                        }
                    },
                    "env": {
                        "SEED": "cassandra-seed.db.ctrlpkw.marathon.mesos"
                    },
                    "cpus": 0.5,
                    "mem": 200,
                    "instances": 1,
                    "backoffSeconds": 1,
                    "backoffFactor": 1.15,
                    "maxLaunchDelaySeconds": 3600,
                    "healthChecks": [
                        {
                            "protocol": "TCP",
                            "gracePeriodSeconds": 30,
                            "intervalSeconds": 30,
                            "portIndex": 4,
                            "timeoutSeconds": 60,
                            "maxConsecutiveFailures": 30
                        }
                    ],
                    "upgradeStrategy": {
                        "minimumHealthCapacity": 0.5,
                        "maximumOverCapacity": 0.2
                    }
                }
            ]
        }
    ]
}

{
  "id": "cassandra-cluster",
          "container": {
            "docker": {
              "image": "jonasrosland/docker-cassandra:cluster",
              "privileged": true,
              "forcePullImage": true,
              "parameters": [
                {
                  "key": "env",
                  "value": "CASSANDRA_CLUSTERNAME=cassandra-cluster"
                },
                {
                  "key": "env",
                  "value": "CASSANDRA_SEEDS=10.0.0.100"
                },
                {
                  "key": "volume-driver",
                  "value": "rexray"
                },
                {
                  "key": "volume",
                  "value": "cassandra-cluster:/var/lib/cassandra"
                }
              ]
            }
          },
          "cpus": 0.5,
          "mem": 200,
          "instances": 1,
          "constraints": [
            [
              "hostname",
              "UNIQUE"
            ]
          ]
}
